---
import HeaderLink from "@/components/HeaderLink";
import TwitterIcon from "@/components/icons/TwitterIcon";
import GithubIcon from "@/components/icons/GithubIcon";
import MenuIcon from "./icons/MenuIcon.astro";
import Search from "@/components/Search";
import TagIcon from "./icons/TagIcon.astro";
import ToggleTheme from "./ToggleTheme.astro";
import TitleLogo from "../assets/images/index-icon.png";
import { Image } from "astro:assets";

// ADD YOUR SOCIAL NETWORKS HERE
const SOCIALNETWORKS = [
  {
    name: "Github",
    url: "",
    icon: GithubIcon,
  },

  {
    name: "Twitter",
    url: "",
    icon: TwitterIcon,
  },
  {
    name: "Hello",
    url: "",
    icon: TwitterIcon,
  },
];
---

<header
  class="relative flex items-center h-16 font-semibold my-12 bg-[#f1f1f1] dark:bg-[#424242]"
  style="padding:0px 13px 7px 13px;border-radius: 16px;"
>
  <a
    class="text-2xl mr-auto flex flex-row justify-start items-center gap-x-2"
    href="/"
    ><Image src={TitleLogo} alt={""} width={35} class={"w-8"} />Fabrics Pedia</a
  >

  <div
    id="astro-header-drawer"
    class="shadow rounded-l-lg md:bg-transparent dark:md:bg-transparent bg-white dark:bg-[#0a0910] md:shadow-none md:rounded-none md:border-none md:h-auto md:static absolute transition-transform duration-300 ease-in translate-x-96 md:translate-x-0 top-12 -right-5 pl-4 pt-6 pb-4 md:p-0 h-[200px] w-[200px] z-50"
  >
    <nav
      class="flex h-full flex-col justify-between gap-12 text-left md:flex-row md:w-full md:gap-5"
    >
      <div
        class="flex flex-col gap-4 md:flex-row md:border-r-2 border-black pr-4 dark:border-white"
      >
        <HeaderLink
          href="/tags"
          class="flex items-center gap-1 text-2xl md:text-base"
        >
          <TagIcon /> Tags
        </HeaderLink>
      </div>

      <div
        class="hidden justify-center items-center md:justify-end gap-3 md:p-0"
      >
        {
          SOCIALNETWORKS.map((network) => (
            <HeaderLink
              class=""
              href={network.url}
              target="_blank"
              aria-label={network.name}
            >
              <span>{network.name} </span>
            </HeaderLink>
          ))
        }
      </div>
      <!-- -->
      <div class="flex justify-center items-center md:justify-end gap-3 md:p-0">
      </div>
    </nav>
  </div>

  <div class="flex items-center gap-3 md:pl-3" transition:persist="navbar">
    <div>
      <Search />
    </div>
    <ToggleTheme />

    <button
      id="astro-header-drawer-button"
      type="button"
      class="md:ml-6 md:hidden"
    >
      <MenuIcon />
      <span class="sr-only">Show Menu</span>
    </button>
  </div>
</header>
<script>
  document.addEventListener("click", (event) => {
    const menu = document.getElementById("astro-header-drawer");
    const menuButton = document.getElementById("astro-header-drawer-button");
    const isClickInside =
      menu?.contains(event.target as HTMLDivElement) ||
      menuButton?.contains(event.target as HTMLButtonElement);

    if (isClickInside) {
      menu?.classList.toggle("translate-x-96");
    } else {
      menu?.classList.add("translate-x-96");
    }
  });
</script>
